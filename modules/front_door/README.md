<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# Azure Front Door Module

This module creates an Azure Front Door (Standard or Premium) with custom domain support and TLS termination using certificates from Azure Key Vault.

## Features

- Support for Standard and Premium SKUs
- Optional Web Application Firewall (WAF) protection (Premium SKU only)
- Optional Private Link integration with Azure Container Apps Environment (Premium SKU only)
- Health probes and load balancing
- Diagnostic settings integration with Log Analytics
- Caching configuration

## Private Link Integration

When `enable_private_link` is set to `true`, the module configures Azure Front Door to connect to the Container Apps Environment via Azure Private Link instead of over the public internet. This provides enhanced security by keeping traffic within the Microsoft backbone network.

**Requirements for Private Link:**
- Front Door SKU must be `Premium_AzureFrontDoor`
- `container_apps_environment_id` must be provided
- The Container Apps Environment must support private link connections

For more information, see [Integrate Azure Front Door with Container Apps](https://learn.microsoft.com/en-us/azure/container-apps/how-to-integrate-with-azure-front-door).

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.6, < 2.0)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (>= 2.0.0, < 3.0)

- <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) (>= 3.71, < 5.0)

- <a name="requirement_null"></a> [null](#requirement\_null) (~> 3.0)

- <a name="requirement_random"></a> [random](#requirement\_random) (>= 3.6.0, < 4.0.0)

## Resources

The following resources are used by this module:

- [azapi_resource.diagnostic_settings](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.endpoint](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.origin](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.origin_group](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.profile](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.route](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.security_policy](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azapi_resource.waf_policy](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)
- [azurerm_resource_group_template_deployment.telemetry](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/resource_group_template_deployment) (resource)
- [null_resource.approve_private_endpoint](https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource) (resource)
- [random_id.telemetry](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/id) (resource)
- [azapi_client_config.current](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/client_config) (data source)
- [azapi_resource_id.resource_group](https://registry.terraform.io/providers/Azure/azapi/latest/docs/data-sources/resource_id) (data source)

<!-- markdownlint-disable MD013 -->
## Required Inputs

The following input variables are required:

### <a name="input_location"></a> [location](#input\_location)

Description: Required. Azure region for resources.

Type: `string`

### <a name="input_name"></a> [name](#input\_name)

Description: Required. Front Door profile name.

Type: `string`

### <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name)

Description: Required. Resource group name to deploy resources into.

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_backend_fqdn"></a> [backend\_fqdn](#input\_backend\_fqdn)

Description: Optional. The backend FQDN that Front Door will route traffic to (Container App FQDN, not the environment). If not provided, no origin or route will be created.

Type: `string`

Default: `null`

### <a name="input_backend_port"></a> [backend\_port](#input\_backend\_port)

Description: Optional. Port for backend communication.

Type: `number`

Default: `443`

### <a name="input_backend_probe_path"></a> [backend\_probe\_path](#input\_backend\_probe\_path)

Description: Optional. Health probe path for backend health checks.

Type: `string`

Default: `"/"`

### <a name="input_backend_protocol"></a> [backend\_protocol](#input\_backend\_protocol)

Description: Optional. Protocol for backend communication.

Type: `string`

Default: `"Https"`

### <a name="input_caching_enabled"></a> [caching\_enabled](#input\_caching\_enabled)

Description: Optional. Enable caching for the route.

Type: `bool`

Default: `true`

### <a name="input_container_apps_environment_id"></a> [container\_apps\_environment\_id](#input\_container\_apps\_environment\_id)

Description: Optional. The resource ID of the Container Apps Environment for private link integration. This is used as the private link target. Required if enable\_backend is true.

Type: `string`

Default: `null`

### <a name="input_enable_backend"></a> [enable\_backend](#input\_enable\_backend)

Description: Optional. Enable backend origin and route creation. Set to true when a Container App backend is available.

Type: `bool`

Default: `false`

### <a name="input_enable_diagnostics"></a> [enable\_diagnostics](#input\_enable\_diagnostics)

Description: Enable diagnostics settings

Type: `bool`

Default: `true`

### <a name="input_enable_telemetry"></a> [enable\_telemetry](#input\_enable\_telemetry)

Description: Optional. Enable module telemetry.

Type: `bool`

Default: `true`

### <a name="input_enable_waf"></a> [enable\_waf](#input\_enable\_waf)

Description: Optional. Enable Web Application Firewall. Requires Premium SKU.

Type: `bool`

Default: `false`

### <a name="input_forwarding_protocol"></a> [forwarding\_protocol](#input\_forwarding\_protocol)

Description: Optional. Protocol to use when forwarding traffic to backends.

Type: `string`

Default: `"MatchRequest"`

### <a name="input_log_analytics_workspace_id"></a> [log\_analytics\_workspace\_id](#input\_log\_analytics\_workspace\_id)

Description: Optional. Log Analytics workspace ID for diagnostic settings. Required if enable\_diagnostics is true.

Type: `string`

Default: `null`

### <a name="input_sku_name"></a> [sku\_name](#input\_sku\_name)

Description: Optional. SKU name for the Front Door profile. Options: Standard\_AzureFrontDoor, Premium\_AzureFrontDoor.

Type: `string`

Default: `"Standard_AzureFrontDoor"`

### <a name="input_tags"></a> [tags](#input\_tags)

Description: Optional. Tags to apply.

Type: `map(string)`

Default: `null`

### <a name="input_waf_policy_name"></a> [waf\_policy\_name](#input\_waf\_policy\_name)

Description: Optional. Name of the WAF policy. Required if enable\_waf is true.

Type: `string`

Default: `null`

## Outputs

The following outputs are exported:

### <a name="output_endpoint_hostname"></a> [endpoint\_hostname](#output\_endpoint\_hostname)

Description: Front Door endpoint hostname (*.azurefd.net with Microsoft-managed certificate)

### <a name="output_endpoint_id"></a> [endpoint\_id](#output\_endpoint\_id)

Description: Front Door endpoint resource ID

### <a name="output_id"></a> [id](#output\_id)

Description: Front Door profile resource ID

### <a name="output_name"></a> [name](#output\_name)

Description: Front Door profile name

### <a name="output_origin_group_id"></a> [origin\_group\_id](#output\_origin\_group\_id)

Description: Front Door origin group resource ID

### <a name="output_origin_id"></a> [origin\_id](#output\_origin\_id)

Description: Front Door origin resource ID

### <a name="output_resource_id"></a> [resource\_id](#output\_resource\_id)

Description: Front Door profile resource ID

### <a name="output_waf_policy_id"></a> [waf\_policy\_id](#output\_waf\_policy\_id)

Description: WAF policy resource ID (if enabled)

## Modules

No modules.

<!-- END\_TF\_DOCS -->
<!-- END_TF_DOCS -->