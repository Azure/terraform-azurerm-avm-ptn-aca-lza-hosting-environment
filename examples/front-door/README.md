<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# Front Door Premium with Private Link Example

This example demonstrates how to deploy the Azure Container Apps Landing Zone Accelerator with Azure Front Door Premium as the ingress solution, using Private Link to securely connect to the internal Container Apps Environment.

## Key Features

- **Azure Front Door Premium**: Automatically configured when Front Door ingress is selected
- **Private Link**: Enabled by default to securely connect Front Door to the internal Container Apps Environment
- **Optional WAF**: Web Application Firewall can be optionally enabled (disabled in this example)
- **No Application Gateway**: Front Door replaces Application Gateway for ingress
- **Sample Application**: Deployed to demonstrate connectivity

## Architecture

When using Front Door with the internal Container Apps Environment:
1. Front Door Premium SKU is mandatory (required for Private Link support)
2. Private Link is automatically enabled to connect to the internal Container Apps Environment
3. Traffic flows through Azure's private backbone network instead of the public internet
4. WAF protection is optional and can be enabled via the `front_door_enable_waf` variable

```hcl
terraform {
  required_version = ">= 1.9, < 2.0"

  required_providers {
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~> 4.0"
    }
  }
}

provider "azurerm" {
  features {}
  storage_use_azuread = true
}

# Test resource group for the module
resource "azurerm_resource_group" "this" {
  location = var.location
  name     = var.resource_group_name
}

# Front Door Premium with Private Link scenario
# Note: Front Door automatically uses Premium SKU with Private Link for internal Container Apps Environment
module "aca_lza_hosting" {
  source = "../../"

  # Core networking
  deployment_subnet_address_prefix = "10.20.4.0/24"
  # Observability
  enable_application_insights = true
  enable_dapr_instrumentation = false
  # Core
  location                                      = azurerm_resource_group.this.location
  spoke_infra_subnet_address_prefix             = "10.20.1.0/24"
  spoke_private_endpoints_subnet_address_prefix = "10.20.2.0/24"
  # Networking - Front Door doesn't need Application Gateway subnet
  spoke_vnet_address_prefixes = ["10.20.0.0/16"]
  # Optional features
  deploy_sample_application       = true
  deploy_zone_redundant_resources = var.deploy_zone_redundant_resources
  enable_ddos_protection          = false
  enable_telemetry                = var.enable_telemetry
  environment                     = var.environment
  existing_resource_group_id      = azurerm_resource_group.this.id
  # Front Door Configuration
  # Front Door automatically uses Premium SKU with Private Link enabled
  expose_container_apps_with                  = "frontDoor"
  front_door_enable_waf                       = false # WAF is optional, defaults to disabled
  log_analytics_workspace_replication_enabled = false
  tags                                        = var.tags
  use_existing_resource_group                 = true
  vm_jumpbox_os_type                          = "none" # disable VM for this example
  # Naming
  workload_name = var.workload_name
}







```

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.9, < 2.0)

- <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) (~> 4.0)

## Resources

The following resources are used by this module:

- [azurerm_resource_group.this](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/resource_group) (resource)

<!-- markdownlint-disable MD013 -->
## Required Inputs

No required inputs.

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_deploy_zone_redundant_resources"></a> [deploy\_zone\_redundant\_resources](#input\_deploy\_zone\_redundant\_resources)

Description: Enable zone redundant resources where supported.

Type: `bool`

Default: `true`

### <a name="input_enable_telemetry"></a> [enable\_telemetry](#input\_enable\_telemetry)

Description: This variable controls whether or not telemetry is enabled for the module.

Type: `bool`

Default: `true`

### <a name="input_environment"></a> [environment](#input\_environment)

Description: The environment identifier for the module.

Type: `string`

Default: `"test"`

### <a name="input_location"></a> [location](#input\_location)

Description: The Azure region where the resources will be deployed.

Type: `string`

Default: `"East US"`

### <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name)

Description: The name of the resource group to create.

Type: `string`

Default: `"rg-aca-lza-front-door-test"`

### <a name="input_tags"></a> [tags](#input\_tags)

Description: Map of tags to assign to the resources.

Type: `map(string)`

Default: `{}`

### <a name="input_workload_name"></a> [workload\_name](#input\_workload\_name)

Description: The name of the workload.

Type: `string`

Default: `"frontdoor"`

## Outputs

The following outputs are exported:

### <a name="output_container_apps_environment_default_domain"></a> [container\_apps\_environment\_default\_domain](#output\_container\_apps\_environment\_default\_domain)

Description: The default domain of the Container Apps Environment

### <a name="output_container_apps_environment_id"></a> [container\_apps\_environment\_id](#output\_container\_apps\_environment\_id)

Description: The resource ID of the Container Apps Environment

### <a name="output_front_door_endpoint_hostname"></a> [front\_door\_endpoint\_hostname](#output\_front\_door\_endpoint\_hostname)

Description: The default *.azurefd.net hostname of the Front Door endpoint with Microsoft-managed certificate

### <a name="output_front_door_id"></a> [front\_door\_id](#output\_front\_door\_id)

Description: The resource ID of the Front Door profile

### <a name="output_key_vault_name"></a> [key\_vault\_name](#output\_key\_vault\_name)

Description: The name of the Key Vault

### <a name="output_resource_group_name"></a> [resource\_group\_name](#output\_resource\_group\_name)

Description: The name of the resource group

## Modules

The following Modules are called:

### <a name="module_aca_lza_hosting"></a> [aca\_lza\_hosting](#module\_aca\_lza\_hosting)

Source: ../../

Version:

## Clean Up

To remove all resources:

```bash
terraform destroy
```
<!-- END_TF_DOCS -->