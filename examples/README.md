# Examples

This directory contains practical examples demonstrating different deployment scenarios for the Azure Container Apps Landing Zone Accelerator (ACA LZA) module. Each example showcases specific features and configuration patterns to help you implement the solution that best fits your requirements.

## Available Examples

### [Default](./default/)
A basic deployment scenario showing the fundamental configuration required to deploy the ACA LZA module. This example uses existing resource groups and demonstrates the minimal required inputs.

**Use Case**: Getting started, proof of concept, or simple development environments.

### [Hub-Spoke with Linux VM](./hub-spoke-linux-vm/)
Demonstrates enterprise hub-spoke network topology with a Linux jumpbox VM and comprehensive observability features.

**Features**:
- Hub-spoke network integration with virtual network peering
- Linux VM with SSH key authentication
- Network traffic routing through simulated network appliance
- Full Application Insights and Dapr instrumentation
- Zone-redundant deployment for high availability

**Use Case**: Enterprise environments requiring secure network isolation, centralized connectivity, and Linux-based administration.

### [Windows VM without Application Gateway](./windows-vm-custom-cert/)
Shows how to deploy with a Windows jumpbox VM without using Application Gateway for ingress.

**Features**:
- Windows VM with password authentication
- Module-managed resource group creation
- Container Apps exposure without Application Gateway
- Cost-optimized single-zone deployment

**Use Case**: Windows-centric environments or scenarios where Application Gateway is not needed. Note: When Application Gateway is enabled, TLS certificates are automatically generated by the module.

### [Bastion Integration with Zone Redundancy](./bastion-zone-redundant/)
Implements the most secure connectivity pattern using Azure Bastion with full zone redundancy across all supported resources.

**Features**:
- Azure Bastion with advanced features (tunneling, file copy, shareable links)
- Zone-redundant deployment across availability zones
- Secure VM access without public IPs
- Complete observability and monitoring stack
- All optional features enabled

**Use Case**: High-security environments, production workloads requiring maximum availability, or scenarios with strict connectivity requirements.

### [Minimal Configuration](./minimal-configuration/)
Demonstrates the smallest viable deployment with minimal features enabled, ideal for cost-sensitive or development scenarios.

### [Front Door Standard](./front-door-standard/)
Demonstrates how to deploy with Azure Front Door Standard as the ingress solution instead of Application Gateway for global load balancing and content delivery.

**Features**:
- Azure Front Door Standard SKU for global edge locations
- Default *.azurefd.net endpoint with Microsoft-managed certificates
- Simplified networking (no Application Gateway subnet required)
- Container Apps Environment with sample application
- Optional Web Application Firewall support (Premium SKU)

**Use Case**: Global applications requiring edge caching, content delivery, or when Application Gateway's regional scope is limiting.

**Features**:
- No virtual machine deployment
- Minimal observability features
- Container Apps without Application Gateway
- Small network address spaces
- All optional features disabled

**Use Case**: Development environments, cost optimization, or scenarios requiring only core Container Apps functionality.

### [Complex Network Appliance](./complex-network-appliance/)
Showcases enterprise-grade deployment with Azure Firewall as a network virtual appliance, implementing comprehensive traffic filtering and routing.

**Features**:
- Azure Firewall with custom policies and rules
- Zone-redundant firewall deployment
- User-defined routes for traffic control
- Premium storage and performance options
- Enterprise naming conventions
- Complete feature set enabled

**Use Case**: Large enterprises requiring centralized security policies, traffic inspection, compliance requirements, or maximum feature utilization.

## Getting Started

1. Choose the example that best matches your requirements
2. Navigate to the example directory
3. Review the README.md for specific configuration details
4. Customize variables as needed for your environment
5. Deploy using standard Terraform commands:

```bash
terraform init
terraform plan
terraform apply
```

## Example Comparison

| Feature | Default | Hub-Spoke Linux | Windows No App Gateway | Bastion Zone Redundant | Minimal | Complex Network Appliance |
|---------|---------|----------------|--------------------|-----------------------|---------|-------------------------|
| **VM Type** | None | Linux SSH | Windows Password | Linux SSH | None | Linux SSH |
| **Hub Integration** | ❌ | ✅ | ❌ | ✅ | ❌ | ✅ |
| **Zone Redundancy** | ❌ | ✅ | ❌ | ✅ | ❌ | ✅ |
| **Application Gateway** | ✅ | ✅ | ❌ | ✅ | ❌ | ✅ |
| **Observability** | Partial | Full | Partial | Full | Minimal | Full |
| **Relative Cost** | Low | Medium-High | Medium | High | Lowest | Highest |
| **Complexity** | Low | High | Medium | High | Minimal | Maximum |

## Support

For questions about these examples or the ACA LZA module, please refer to the main module documentation or open an issue in the repository.
